(this.webpackJsonprestool=this.webpackJsonprestool||[]).push([[0],{38:function(e,t,a){e.exports=a(73)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=a(3),u=a.n(o),i=a(8),s=a(15),d=a(12),m=a(10),p=a(5),f=a.n(p),v=a(13),h=a(14),b=a(18),y=a(17),g=a(19),E=a(37),w=a(31),k=a(32),x=new(function(){function e(){Object(w.a)(this,e)}return Object(k.a)(e,[{key:"extractDataByDataPath",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return a?e[a]:e;var n=e,r=t.split("."),c=!0,l=!1,o=void 0;try{for(var u,i=r[Symbol.iterator]();!(c=(u=i.next()).done);c=!0){var s=u.value;if("undefined"===typeof n[s])return null;n=n[s]}}catch(d){l=!0,o=d}finally{try{c||null==i.return||i.return()}finally{if(l)throw o}}return n?a?n[a]:n:null}},{key:"checkIfFieldIsObject",value:function(e){return"object"===e.type||!("array"!==e.type||e.arrayType&&"object"!==e.arrayType)}}]),e}()),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(v.a)(this,e),this.baseUrl=void 0,this.unauthorizedRedirectUrl=void 0,this.errorMessageDataPath=void 0,this.baseUrl=t||"",this.unauthorizedRedirectUrl=a||"",this.errorMessageDataPath=n||""}return Object(h.a)(e,[{key:"replaceParamsInUrl",value:function(e,t){if(!t||"object"!==typeof t)return e;var a=e;return Object.keys(t).forEach((function(e){var n=":".concat(e);a=a.replace(n,t[e])})),a}},{key:"buildUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;if(!t||!t.length)return this.replaceParamsInUrl(e,a);var n=e,r=[],c=!0,l=!1,o=void 0;try{for(var u,i=t[Symbol.iterator]();!(c=(u=i.next()).done);c=!0){var s=u.value;if(s.name&&"undefined"!==typeof s.value)if(s.urlReplaceOnly){var d=":".concat(s.name);n=n.replace(d,s.value)}else r.push("".concat(s.name,"=").concat(s.value||""))}}catch(p){l=!0,o=p}finally{try{c||null==i.return||i.return()}finally{if(l)throw o}}if(r.length){var m=e.indexOf("?")>=0?"&":"?";return n+m+r.join("&")}return n}},{key:"buildRequest",value:function(e){return{url:this.buildUrl(this.baseUrl+e.origUrl,e.queryParams,e.rawData),params:{method:e.method||"get",headers:Object(E.a)({"content-type":"application/json"},e.headers||{}),body:"post"===e.method||"put"===e.method?JSON.stringify(e.body):void 0}}}},{key:"getErrorMessage",value:function(e){var t,a,n,r,c,l,o,u,i;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t="",s.prev=1,s.next=4,f.a.awrap(e.json());case 4:for(a=s.sent,n=!0,r=!1,c=void 0,s.prev=8,l=this.errorMessageDataPath[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)u=o.value,(i=x.extractDataByDataPath(a,u))&&(t=i);s.next=16;break;case 12:s.prev=12,s.t0=s.catch(8),r=!0,c=s.t0;case 16:s.prev=16,s.prev=17,n||null==l.return||l.return();case 19:if(s.prev=19,!r){s.next=22;break}throw c;case 22:return s.finish(19);case 23:return s.finish(16);case 24:s.next=28;break;case 26:s.prev=26,s.t1=s.catch(1);case 28:return t="".concat(e.status," - ").concat(e.statusText||""),s.abrupt("return",t);case 30:case"end":return s.stop()}}),null,this,[[1,26],[8,12,16,24],[17,,19,23]])}},{key:"handleError",value:function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(401!==e.status||!this.unauthorizedRedirectUrl){a.next=4;break}return t=this.unauthorizedRedirectUrl.replace(":returnUrl",encodeURIComponent(document.location.href)),document.location.href=t,a.abrupt("return");case 4:return a.t0=Error,a.next=7,f.a.awrap(this.getErrorMessage(e));case 7:throw a.t1=a.sent,new a.t0(a.t1);case 9:case"end":return a.stop()}}),null,this)}},{key:"makeRequest",value:function(e){var t,a,n,r=arguments;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:"json",c.next=4,f.a.awrap(fetch(e,Object.assign({},t,{})));case 4:if(!(n=c.sent).ok){c.next=17;break}c.t0=a,c.next="json"===c.t0?9:"text"===c.t0?12:"boolean"===c.t0?15:16;break;case 9:return c.next=11,f.a.awrap(n.json());case 11:return c.abrupt("return",c.sent);case 12:return c.next=14,f.a.awrap(n.text());case 14:return c.abrupt("return",c.sent);case 15:case 16:return c.abrupt("return",!0);case 17:return c.next=19,f.a.awrap(this.handleError(n));case 19:case"end":return c.stop()}}),null,this)}},{key:"fetch",value:function(e){var t,a,n,r,c,l,o,u,i,s;return f.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.method,a=e.origUrl,n=e.queryParams,r=e.rawData,c=e.body,l=e.headers,o=e.responseType,u=this.buildRequest({method:t,origUrl:a,queryParams:n,rawData:r,body:c,headers:l}),i=u.url,s=u.params,d.next=4,f.a.awrap(this.makeRequest(i,s,o));case 4:return d.abrupt("return",d.sent);case 5:case"end":return d.stop()}}),null,this)}}]),e}(),C=new j,O=new(function(e){function t(){return Object(v.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"getRemoteConfig",value:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(C.fetch({origUrl:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}},{key:"validateConfig",value:function(e){return{isValid:!0,errorMessage:null}}}]),t}(j)),N=a(33),q=a(21),P=r.a.createContext({config:null,activePage:null,error:null,setError:function(){},setActivePage:function(){},httpService:new j}),S=function(e){return function(t){return r.a.createElement(P.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},D=(a(54),function(){return r.a.createElement("div",{className:"app-loader cp-spinner cp-balls small"})}),U=(a(55),function(e){return r.a.createElement("button",Object.assign({},e,{className:"button ".concat(e.className||""," ").concat(e.color||"")}),e.children)}),_=(a(56),function(e){var t=e.items,a=e.fields,n=e.callbacks,c=e.customActions;return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,a.map((function(e){return r.a.createElement("th",{key:"th_".concat(e.name)},e.label||e.name)})),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:"tr_".concat(t)},a.map((function(a,n){var c=x.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("td",{key:"td_".concat(t,"_").concat(n)},function(e,t){if(t&&"object"===typeof t)return"object";switch(e){case"text":return r.a.createElement("span",null,t);case"boolean":return r.a.createElement("div",{className:"bool ".concat(t?"true":"false")});case"image":return r.a.createElement("img",{src:t,alt:t});case"url":return r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:t}});default:return t}}(a.type,c))})),r.a.createElement("td",null,r.a.createElement("div",{className:"actions-wrapper"},n.put&&r.a.createElement(U,{onClick:function(){return n.put(e)},title:"Edit"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),c&&c.length>0&&c.map((function(a,c){return r.a.createElement(U,{key:"action_".concat(t,"_").concat(c),onClick:function(){return n.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),n.delete&&r.a.createElement(U,{onClick:function(){return n.delete(e)},title:"Delete"},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))})))))}),I=(a(57),function(e){var t=e.items,a=e.fields,n=e.callbacks,c=e.customActions;return r.a.createElement("div",{className:"cards-wrapper"},t.map((function(e,t){return r.a.createElement("div",{className:"card",key:"card_".concat(t)},a.map((function(a,n){var c=x.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("div",{className:"card-row ".concat(a.type),key:"card_".concat(t,"_").concat(n)},"image"!==a.type&&r.a.createElement("label",null,a.label||a.name,": "),function(e,t){if(t&&"object"===typeof t)return"object";switch(e){case"text":return r.a.createElement("span",null,t);case"boolean":return r.a.createElement("div",{className:"bool ".concat(t?"true":"false")});case"image":return r.a.createElement("img",{src:t,alt:t});case"url":return r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:t}});default:return t}}(a.type,c))})),r.a.createElement("div",{className:"actions-wrapper"},n.put&&r.a.createElement(U,{onClick:function(){return n.put(e)},title:"Edit"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),c&&c.length>0&&c.map((function(a,c){return r.a.createElement(U,{key:"action_".concat(t,"_").concat(c),onClick:function(){return n.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),n.delete&&r.a.createElement(U,{onClick:function(){return n.delete(e)},title:"Delete"},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))))})))}),R=a(36),A=a(22),M=a(26),T=(a(58),function(e){var t=e.field,a=e.direction,n=e.showReset,c=e.onChange;function l(e){var a=e.value||[];return r.a.createElement("div",{className:"array-form"},a.map((function(a,n){var l=o({value:a,name:"".concat(e.name,".").concat(n)},(function(t,a){var r=(e.value||[]).map((function(e,t){return t===n?a:e}));c(e.name,r)}));return r.a.createElement("div",{className:"array-form-item",key:"array_form_".concat(n)},l,r.a.createElement("i",{title:"Clear",onClick:function(){return function(e,a){var n=Object(M.a)(e.value||[]);n.splice(a,1),c(t.name,n)}(e,n)},"aria-label":"Remove",className:"clear-input fa fa-times"}))})),r.a.createElement(U,{className:"add-array-item",onClick:function(a){return function(e,a){e.preventDefault(),c(t.name,[].concat(Object(M.a)(a.value||[]),[""]))}(a,e)},title:"Add Item"},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})))}function o(e,t){switch(e.type){case"boolean":return r.a.createElement("input",{type:"checkbox",checked:e.value,onChange:function(a){return t(e.name,a.target.checked,!0)},disabled:e.readonly});case"select":var a,n=null===(a=e.optionSource)||void 0===a?void 0:a.sortBy,c=Object(q.a)(e.options||[],"string"===typeof n?[n]:n||[]);return r.a.createElement("select",{value:e.value,onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required},r.a.createElement("option",null,"-- Select --"),c.map((function(e,t){var a="option_".concat(t,"_");return"object"!==typeof e?r.a.createElement("option",{key:"".concat(a,"_").concat(e),value:e},e):r.a.createElement("option",{key:"".concat(a,"_").concat(e.value),value:e.value},e.display||e.value)})));case"object":return r.a.createElement("textarea",{placeholder:e.placeholder||"Enter JSON...",onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required,value:e.value});case"array":var o=e.arrayType;return e.value&&o&&"object"!==o?l(e):r.a.createElement("textarea",{placeholder:e.placeholder||"Enter JSON array...",onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required,value:e.value});case"long-text":return r.a.createElement("textarea",{placeholder:e.placeholder||"Enter text...",onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required,value:e.value});case"number":case"integer":return r.a.createElement("input",{type:"number",placeholder:e.placeholder||"Enter text...",value:e.value,onChange:function(a){return t(e.name,a.target.valueAsNumber)},disabled:e.readonly,required:e.required});case"color":return r.a.createElement("input",{type:"color",placeholder:e.placeholder||"Select color...",value:e.value,onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required});case"email":return r.a.createElement("input",{type:"email",placeholder:e.placeholder||"Enter email...",value:e.value,onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required});case"password":return r.a.createElement("input",{type:"password",placeholder:e.placeholder||"Enter email...",value:e.value,onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required});case"hidden":return r.a.createElement("input",{type:"hidden",value:e.value});case"file":return r.a.createElement("input",{type:"file",accept:e.accept||"*",placeholder:e.placeholder||"Select file...",value:e.value,onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required});case"note":return r.a.createElement("p",{className:"note"},e.value);case"text":default:return r.a.createElement("input",{type:"text",placeholder:e.placeholder||"Enter text...",value:e.value,onChange:function(a){return t(e.name,a.target.value)},disabled:e.readonly,required:e.required})}}return r.a.createElement("div",{className:"form-row ".concat(a||"row")},r.a.createElement("label",null,t.label||t.originalName,t.required?" *":""),o(t,c),n&&!t.readonly&&t.value&&t.value.length>0&&r.a.createElement("i",{title:"Clear",onClick:function(){return c(t.name,"",!0)},"aria-label":"Clear",className:"clear-input fa fa-times"}))}),B=(a(59),function(e){var t=e.initialParams,a=e.submitCallback,c=Object(n.useState)(t),l=Object(A.a)(c,2),o=l[0],u=l[1];function i(e){e&&e.preventDefault(),a(o)}function s(e,t,a){var n=Object(R.a)(o).map((function(a){return a.name===e&&(a.value=t),a}));u(n),a&&i()}return Object(n.useEffect)((function(){u(t)}),[t]),o.length?r.a.createElement("section",{className:"query-params-form"},r.a.createElement("h5",null,"Query Params:"),r.a.createElement("form",{onSubmit:i},o.map((function(e,t){return r.a.createElement(T,{key:"query_param_".concat(t),field:e,onChange:s,showReset:!e.type||"text"===e.type})})),r.a.createElement(U,{type:"submit",onClick:i},"Submit"))):r.a.createElement(r.a.Fragment,null)}),J=(a(60),document.getElementById("popup-portal"));J||((J=document.createElement("div")).setAttribute("id","popup-portal"),document.body.append(J));var F=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(b.a)(this,Object(y.a)(t).call(this,e))).el=void 0,a.componentDidMount=function(){J.appendChild(a.el)},a.componentWillUnmount=function(){J.removeChild(a.el)},a.el=document.createElement("div"),a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createPortal(this.props.children,this.el)}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))))._handleKeyDown=function(e){var t=a.props,n=t.show,r=t.closeCallback;n&&27===e.keyCode&&r(e)},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=Object.assign({},{display:this.props.show?"block":"none"},this.props.style||{});return r.a.createElement(F,null,this.props.show?r.a.createElement("div",{className:"popup ".concat(this.props.className||""),style:t},r.a.createElement("div",{className:"overlay",onClick:function(t){return e.props.closeCallback(t)}}),r.a.createElement("div",{className:"popup-content",ref:this.props.refCallback},this.props.children,r.a.createElement("button",{title:"Close",className:"close-popup",onClick:function(t){return e.props.closeCallback(t)}},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))):null)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleKeyDown.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._handleKeyDown.bind(this))}}]),t}(n.Component),H=(a(61),a(29)),W=a(29).unflatten,K=S((function(e){var t=e.context,a=e.title,c=e.fields,l=e.rawData,o=e.getSingleConfig,s=e.submitCallback,d=e.closeCallback,p=JSON.parse(JSON.stringify(c)),f=t.httpService,v=Object(n.useState)(!0),h=Object(i.a)(v,2),b=h[0],y=h[1],g=Object(n.useState)([]),E=Object(i.a)(g,2),w=E[0],k=E[1];function j(e){var t,a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),t={},a=null,w.forEach((function(n){if(t[n.name]=n.value,n.required&&!n.value&&(a="Please fill up all required fields."),x.checkIfFieldIsObject(n)&&n.value)try{t[n.name]=JSON.parse(n.value)}catch(e){a='Invalid JSON for field "'.concat(n.name,'".')}"encode"===n.type&&(t[n.name]=encodeURIComponent(n.value))})),!a){r.next=7;break}return m.b.error(a),r.abrupt("return");case 7:return y(!0),r.prev=8,n=W(t),r.next=12,u.a.awrap(s(n));case 12:m.b.success("Great Success!"),d(!0),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(8),m.b.error(r.t0.message);case 19:y(!1);case 20:case"end":return r.stop()}}),null,null,[[8,16]])}function C(e,t){var a=JSON.parse(JSON.stringify(w));a=a.map((function(a){return a.name===e&&(a.value=t),a})),k(a)}return Object(n.useEffect)((function(){!function(){var e,t,a,n,r,c,i,s,d;u.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(e=l||{},!o||!o.url){v.next=15;break}return v.prev=2,t=o.url,a=o.requestHeaders,n=o.actualMethod,r=o.dataPath,c=o.queryParams,v.next=6,u.a.awrap(f.fetch({method:n||"get",origUrl:t,queryParams:c,headers:a,rawData:l}));case 6:i=v.sent,(s=x.extractDataByDataPath(i,r))&&"object"===typeof s&&(e=s),v.next=15;break;case 11:v.prev=11,v.t0=v.catch(2),console.error("Could not load single item's data.",v.t0),m.b.error("Could not load single item's data.");case 15:d=H(e||{}),k(p.map((function(t){var a=t.name;return t.originalName=t.name,t.dataPath&&(a="".concat(t.dataPath,".").concat(t.name)),t.name=a,x.checkIfFieldIsObject(t)?((e[a]||t.value)&&(t.value=JSON.stringify(e[a]||t.value,null,"  ")||""),t):"array"===t.type?(t.value=e[a]||t.value||[],t):(d[a]?t.value=d[a]:t.value=t.value||"",t)}))),y(!1);case 18:case"end":return v.stop()}}),null,null,[[2,11]])}()}),[]),r.a.createElement(z,{show:!0,className:"form-popup",closeCallback:function(){return d(!1)}},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,a),r.a.createElement("section",null,b?r.a.createElement(D,null):r.a.createElement("form",{onSubmit:j},w.map((function(e,t){return r.a.createElement(T,{key:"field_".concat(t),field:e,onChange:C,showReset:!e.type||"text"===e.type})})),r.a.createElement("div",{className:"buttons-wrapper center"},r.a.createElement(U,{type:"submit",onClick:j,color:"green"},"Submit"))))))})),L=(a(65),S((function(e){var t,a=e.context,c=Object(d.h)().page,l=Object(d.g)(),o=l.push,s=l.location,p=a.activePage,f=a.error,v=a.setError,h=a.httpService,b=null===p||void 0===p?void 0:p.methods,y=(null===p||void 0===p?void 0:p.customActions)||[],g=null===b||void 0===b?void 0:b.getAll,E=null===b||void 0===b?void 0:b.getSingle,w=null===b||void 0===b?void 0:b.post,k=null===b||void 0===b?void 0:b.put,j=null===b||void 0===b?void 0:b.delete,C=Object(n.useState)(!1),O=Object(i.a)(C,2),P=O[0],S=O[1],R=Object(n.useState)(null),A=Object(i.a)(R,2),M=A[0],T=A[1],J=Object(n.useState)((null===g||void 0===g?void 0:g.queryParams)||[]),F=Object(i.a)(J,2),z=F[0],H=F[1],W=Object(n.useState)([]),L=Object(i.a)(W,2),G=L[0],V=L[1];function Y(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:T({rawData:e,type:"update",title:"Update Item",config:k,getSingleConfig:E,submitCallback:function(t){return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(te(t,e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))}});case 2:case"end":return t.stop()}}))}function Q(e,t){var a={rawData:e,type:"action",title:t.name||"Custom Action",config:t,submitCallback:function(a){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap($(a,e,t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))}};T(a)}function $(e,t,a){var n,r,c;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=a.url,r=a.requestHeaders,c=a.actualMethod,l.next=3,u.a.awrap(h.fetch({method:c||"put",origUrl:n,rawData:t,body:e,headers:r,responseType:"boolean"}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}}))}function X(){var e=N.parse(s.search);return((null===g||void 0===g?void 0:g.queryParams)||[]).map((function(t){return"undefined"!==typeof e[t.name]?t.value="boolean"===t.type?"true"===e[t.name]:decodeURIComponent(e[t.name]):t.value=t.value||"",t}))}function Z(){var e,t,a,n,r,c,l,o;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(S(!0),v(null),i.prev=2,g){i.next=5;break}throw new Error("Get all method is not defined.");case 5:return e=g.url,t=g.requestHeaders,a=g.actualMethod,n=g.dataPath,r=g.sortBy,i.next=8,u.a.awrap(h.fetch({method:a||"get",origUrl:e,queryParams:X(),headers:t}));case 8:if(c=i.sent,l=x.extractDataByDataPath(c,n)){i.next=12;break}throw new Error("Could not extract data from response.");case 12:if(Array.isArray(l)){i.next=14;break}throw new Error("Extracted data is invalid.");case 14:o=Object(q.a)(l,"string"===typeof r?[r]:r||[]),V(o),i.next=21;break;case 18:i.prev=18,i.t0=i.catch(2),v(i.t0.message);case 21:S(!1);case 22:case"end":return i.stop()}}),null,null,[[2,18]])}function ee(e){var t,a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(w){r.next=2;break}throw new Error("Post method is not defined.");case 2:return t=w.url,a=w.requestHeaders,n=w.actualMethod,r.next=5,u.a.awrap(h.fetch({method:n||"post",origUrl:t,body:e,headers:a,responseType:"boolean"}));case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}))}function te(e,t){var a,n,r;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(k){c.next=2;break}throw new Error("Put method is not defined.");case 2:return a=k.url,n=k.requestHeaders,r=k.actualMethod,c.next=5,u.a.awrap(h.fetch({method:r||"put",origUrl:a,rawData:t,body:e,headers:n,responseType:"boolean"}));case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}}))}function ae(e){var t,a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(window.confirm("Are you sure you want to delete this item?")){r.next=3;break}return r.abrupt("return");case 3:if(r.prev=3,j){r.next=6;break}throw new Error("Delete method is not defined.");case 6:return t=j.url,a=j.requestHeaders,n=j.actualMethod,r.next=9,u.a.awrap(h.fetch({method:n||"delete",origUrl:t,rawData:e,headers:a,responseType:"boolean"}));case 9:r.sent&&Z(),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),m.b.error(r.t0.message);case 16:case"end":return r.stop()}}),null,null,[[3,13]])}function ne(e){if(H(e),!P){var t=z.map((function(e,t){return"".concat(0===t?"?":"").concat(e.name,"=").concat(encodeURIComponent(e.value||""))})).join("&");o(t)}}return Object(n.useEffect)((function(){var e,t,n=(null===a||void 0===a?void 0:null===(e=a.config)||void 0===e?void 0:null===(t=e.pages)||void 0===t?void 0:t.filter((function(e,t){return e.id===c||t+1===parseInt(c||"")}))[0])||null;a.setActivePage(n)}),[c]),Object(n.useEffect)((function(){H(X())}),[p]),Object(n.useEffect)((function(){Z()}),[z]),r.a.createElement("div",{className:"app-page"},r.a.createElement("header",{className:"app-page-header"},r.a.createElement("hgroup",null,r.a.createElement("h2",null,null===p||void 0===p?void 0:p.name),(null===p||void 0===p?void 0:p.description)&&r.a.createElement("h4",null,null===p||void 0===p?void 0:p.description)),w&&r.a.createElement(U,{className:"add-item",color:"green",onClick:function(){return T({type:"add",title:"Add Item",config:w,submitCallback:ee})}},"+ Add Item")),r.a.createElement("main",{className:"app-page-content"},f?r.a.createElement("div",{className:"app-error"},f):r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{initialParams:z,submitCallback:ne}),function(){var e;if(P)return r.a.createElement(D,null);if(!G.length)return r.a.createElement("div",{className:"app-error"},"Nothing to see here. Result is empty.");var t=(null===g||void 0===g?void 0:g.fields)||(null===g||void 0===g?void 0:null===(e=g.display)||void 0===e?void 0:e.fields)||[];return"cards"===(null===g||void 0===g?void 0:g.display.type)?r.a.createElement(I,{callbacks:{delete:j?ae:function(){},put:k?Y:function(){},action:y.length?Q:function(){}},fields:t,items:G,customActions:y}):r.a.createElement(_,{callbacks:{delete:j?ae:function(){},put:k?Y:function(){},action:y.length?Q:function(){}},fields:t,items:G,customActions:y})}())),M&&r.a.createElement(K,{title:M.title,closeCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];T(null),!0===e&&Z()},submitCallback:M.submitCallback,fields:(null===(t=M.config)||void 0===t?void 0:t.fields)||[],rawData:M.rawData,getSingleConfig:M.getSingleConfig}))}))),G=(a(69),S((function(e){var t=e.context.config,a=Object(n.useState)(!1),c=Object(A.a)(a,2),l=c[0],o=c[1];return r.a.createElement("nav",{className:"app-nav"},r.a.createElement(U,{className:"app-nav-opener",onClick:function(){return o(!l)}},l?r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true"})),r.a.createElement("div",{className:"app-nav-wrapper ".concat(l?"opened":"")},r.a.createElement("div",{className:"app-nav-links"},((null===t||void 0===t?void 0:t.pages)||[]).map((function(e,t){return r.a.createElement(s.b,{to:"/".concat(e.id||t+1),activeClassName:"active",key:"page_".concat(t),onClick:function(){return o(!1)}},e.name)})))))}))),V=(a(70),a(71),new j),Y="RESTool App";function Q(e){var t=document.createElement("link"),a=document.getElementById("favicon");t.id="favicon",t.rel="shortcut icon",t.href=e,a&&document.head.removeChild(a),document.head.appendChild(t)}var $=function(){var e,t,a,c=Object(n.useState)(!0),l=Object(i.a)(c,2),o=l[0],p=l[1],f=Object(n.useState)(null),v=Object(i.a)(f,2),h=v[0],b=v[1],y=Object(n.useState)((null===h||void 0===h?void 0:null===(e=h.pages)||void 0===e?void 0:e[0])||null),g=Object(i.a)(y,2),E=g[0],w=g[1],k=Object(n.useState)(null),x=Object(i.a)(k,2),j=x[0],C=x[1];Object(n.useEffect)((function(){!function e(t){var a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.awrap(O.getRemoteConfig(t));case 3:if(a=n.sent,V.baseUrl=a.baseUrl||"",V.errorMessageDataPath=a.errorMessageDataPath||"",V.unauthorizedRedirectUrl=a.unauthorizedRedirectUrl||"",document.title=a.name||Y,(null===a||void 0===a?void 0:a.favicon)&&Q(a.favicon),!(null===h||void 0===h?void 0:h.remoteUrl)){n.next=13;break}return n.next=12,u.a.awrap(e(h.remoteUrl));case 12:return n.abrupt("return",n.sent);case 13:p(!1),b(a),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.error("Could not load config file",n.t0);case 20:case"end":return n.stop()}}),null,null,[[0,17]])}("./config.json")}),[]),Object(n.useEffect)((function(){var e=O.validateConfig(h),t=e.isValid,a=e.errorMessage;t||C(a)}),[h]);var N=(null===h||void 0===h?void 0:h.name)||Y;return r.a.createElement("div",{className:"restool-app"},h?r.a.createElement(P.Provider,{value:{config:h,activePage:E,setActivePage:w,error:j,setError:C,httpService:V}},r.a.createElement(s.a,null,r.a.createElement("aside",null,r.a.createElement("h1",{title:N,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=window.scrollY/2,a=0,n=performance.now();window.requestAnimationFrame((function r(c){(a+=Math.PI/(e/(c-n)))>=Math.PI&&window.scrollTo(0,0),0!==window.scrollY&&(window.scrollTo(0,Math.round(t+t*Math.cos(a))),n=c,window.requestAnimationFrame(r))}))}()}},N),r.a.createElement(G,null)),h&&r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/:page",component:L}),r.a.createElement(d.a,{path:"/",to:"/".concat((null===h||void 0===h?void 0:null===(t=h.pages)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.id)||"1")})),r.a.createElement(m.a,{position:m.b.POSITION.TOP_CENTER,autoClose:4e3,draggable:!1}))):r.a.createElement("div",{className:"app-error"},o?"Loading Configuration...":"Could not find config file."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(72);l.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.9b60035e.chunk.js.map