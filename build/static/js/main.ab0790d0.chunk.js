(this.webpackJsonprestool=this.webpackJsonprestool||[]).push([[0],{32:function(e,t,a){e.exports=a(69)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),l=a(2),i=a.n(l),u=a(4),s=a(15),d=a(13),v=a(8),m=a(10),p=a(11),f=a(18),h=a(16),b=a(19),y=new(function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"extractDataByDataPath",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return a?e[a]:e;var n=e,r=t.split("."),o=!0,c=!1,l=void 0;try{for(var i,u=r[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var s=i.value;if("undefined"===typeof n[s])return null;n=n[s]}}catch(d){c=!0,l=d}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}return n?a?n[a]:n:null}},{key:"checkIfFieldIsObject",value:function(e){return"object"===e.type||!("array"!==e.type||e.arrayType&&"object"!==e.arrayType)}}]),e}()),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(m.a)(this,e),this.baseUrl=void 0,this.unauthorizedRedirectUrl=void 0,this.errorMessageDataPath=void 0,this.requestHeaders=void 0,this.baseUrl=t||"",this.unauthorizedRedirectUrl=a||"",this.errorMessageDataPath=n||"",this.requestHeaders={}}return Object(p.a)(e,[{key:"urlIsAbsolute",value:function(e){return 0===e.indexOf("http")||0===e.indexOf("https")}},{key:"replaceParamsInUrl",value:function(e,t){if(!t||"object"!==typeof t)return e;var a=e;return Object.keys(t).forEach((function(e){var n=":".concat(e);a=a.replace(n,t[e])})),a}},{key:"buildUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;if(!t||!t.length)return this.replaceParamsInUrl(e,a);var n=e,r=[],o=!0,c=!1,l=void 0;try{for(var i,u=t[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var s=i.value;if(s.name&&"undefined"!==typeof s.value)if(s.urlReplaceOnly){var d=":".concat(s.name);n=n.replace(d,s.value)}else r.push("".concat(s.name,"=").concat(s.value||""))}}catch(m){c=!0,l=m}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}if(r.length){var v=e.indexOf("?")>=0?"&":"?";return n+v+r.join("&")}return n}},{key:"buildRequest",value:function(e){var t=this.urlIsAbsolute(e.origUrl)?e.origUrl:this.baseUrl+e.origUrl;return{url:this.buildUrl(t,e.queryParams,e.rawData),params:{method:e.method?e.method.toUpperCase():"GET",headers:Object.assign({},this.requestHeaders,e.headers||{}),body:"post"===e.method||"put"===e.method||"patch"===e.method?e.body:void 0}}}},{key:"getErrorMessage",value:function(e){var t,a,n,r,o,c,l,u,s;return i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t="",d.prev=1,d.next=4,i.a.awrap(e.json());case 4:for(a=d.sent,n=!0,r=!1,o=void 0,d.prev=8,c=this.errorMessageDataPath[Symbol.iterator]();!(n=(l=c.next()).done);n=!0)u=l.value,(s=y.extractDataByDataPath(a,u))&&(t=s);d.next=16;break;case 12:d.prev=12,d.t0=d.catch(8),r=!0,o=d.t0;case 16:d.prev=16,d.prev=17,n||null==c.return||c.return();case 19:if(d.prev=19,!r){d.next=22;break}throw o;case 22:return d.finish(19);case 23:return d.finish(16);case 24:d.next=28;break;case 26:d.prev=26,d.t1=d.catch(1);case 28:return d.abrupt("return",t&&t.length?t:"".concat(e.status," - ").concat(e.statusText||""));case 29:case"end":return d.stop()}}),null,this,[[1,26],[8,12,16,24],[17,,19,23]])}},{key:"handleError",value:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(401!==e.status||!this.unauthorizedRedirectUrl){a.next=4;break}return t=this.unauthorizedRedirectUrl.replace(":returnUrl",encodeURIComponent(document.location.href)),document.location.href=t,a.abrupt("return");case 4:return a.t0=Error,a.next=7,i.a.awrap(this.getErrorMessage(e));case 7:throw a.t1=a.sent,new a.t0(a.t1);case 9:case"end":return a.stop()}}),null,this)}},{key:"makeRequest",value:function(e){var t,a,n,r=arguments;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:"json",o.next=4,i.a.awrap(fetch(e,Object.assign({},t,{})));case 4:if(!(n=o.sent).ok){o.next=17;break}o.t0=a,o.next="json"===o.t0?9:"text"===o.t0?12:"boolean"===o.t0?15:16;break;case 9:return o.next=11,i.a.awrap(n.json());case 11:return o.abrupt("return",o.sent);case 12:return o.next=14,i.a.awrap(n.text());case 14:return o.abrupt("return",o.sent);case 15:case 16:return o.abrupt("return",!0);case 17:return o.next=19,i.a.awrap(this.handleError(n));case 19:case"end":return o.stop()}}),null,this)}},{key:"fetch",value:function(e){var t,a,n,r,o,c,l,u,s,d;return i.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return t=e.method,a=e.origUrl,n=e.queryParams,r=e.rawData,o=e.body,c=e.headers,l=e.responseType,u=this.buildRequest({method:t,origUrl:a,queryParams:n,rawData:r,body:o,headers:c}),s=u.url,d=u.params,v.next=4,i.a.awrap(this.makeRequest(s,d,l));case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}}),null,this)}}]),e}(),E=new g,w=new(function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"getRemoteConfig",value:function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith(".js")){t.next=4;break}return t.next=3,i.a.awrap(import(e));case 3:return t.abrupt("return",t.sent.default);case 4:return t.next=6,i.a.awrap(E.fetch({origUrl:e}));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}))}},{key:"loadDefaultConfig",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.awrap(this.getRemoteConfig("/config.json"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,i.a.awrap(this.getRemoteConfig("/config.js"));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),null,this,[[0,6]])}},{key:"validateConfig",value:function(e){return{isValid:!0,errorMessage:null}}}]),t}(g)),k=a(14),x=a(29),j=a(22),O=r.a.createContext({config:null,activePage:null,error:null,setError:function(){},setActivePage:function(){},httpService:new g}),C=function(e){return function(t){return r.a.createElement(O.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},N=(a(49),function(){return r.a.createElement("div",{className:"app-loader cp-spinner cp-balls small"})}),S=(a(50),function(e){return r.a.createElement("button",Object.assign({},e,{className:"button ".concat(e.className||""," ").concat(e.color||"")}),e.children)}),P=(a(51),function(e){var t,a,n=e.items,o=e.fields,c=e.callbacks,l=e.customActions,i=e.customLabels;var u=(null===i||void 0===i?void 0:null===(t=i.actions)||void 0===t?void 0:t.edit)||"Edit",s=(null===i||void 0===i?void 0:null===(a=i.actions)||void 0===a?void 0:a.delete)||"Delete";return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,o.map((function(e){return r.a.createElement("th",{key:"th_".concat(e.name)},e.label||e.name)})),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",{key:"tr_".concat(t)},o.map((function(a,n){var o=y.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("td",{key:"td_".concat(t,"_").concat(n)},function(e,t){if(t&&"object"===typeof t)return"object";switch(e.type){case"text":return r.a.createElement("span",null,t);case"boolean":return r.a.createElement("div",{className:"bool ".concat(t?"true":"false")});case"image":return r.a.createElement("img",{src:t||"",alt:t||e.label||e.name});case"url":var a=(e.url||t||"").replace(":".concat(e.name),t);return r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},t);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:t}});default:return t}}(a,o))})),r.a.createElement("td",null,r.a.createElement("div",{className:"actions-wrapper"},c.put&&r.a.createElement(S,{onClick:function(){var t;return null===(t=c.put)||void 0===t?void 0:t.call(c,e)},title:u},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),l&&l.length>0&&l.map((function(a,n){return r.a.createElement(S,{key:"action_".concat(t,"_").concat(n),onClick:function(){return c.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),c.delete&&r.a.createElement(S,{onClick:function(){var t;return null===(t=c.delete)||void 0===t?void 0:t.call(c,e)},title:s},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))})))))}),D=(a(52),function(e){var t,a,n=e.items,o=e.fields,c=e.callbacks,l=e.customActions,i=e.customLabels;var u=(null===i||void 0===i?void 0:null===(t=i.actions)||void 0===t?void 0:t.edit)||"Edit",s=(null===i||void 0===i?void 0:null===(a=i.actions)||void 0===a?void 0:a.delete)||"Delete";return r.a.createElement("div",{className:"cards-wrapper"},n.map((function(e,t){return r.a.createElement("div",{className:"card",key:"card_".concat(t)},o.map((function(a,n){var o=y.extractDataByDataPath(e,a.dataPath,a.name);return r.a.createElement("div",{className:"card-row ".concat(a.type),key:"card_".concat(t,"_").concat(n)},"image"!==a.type&&r.a.createElement("label",null,a.label||a.name,": "),function(e,t){if(t&&"object"===typeof t)return"object";switch(e.type){case"text":return r.a.createElement("span",null,t);case"boolean":return r.a.createElement("div",{className:"bool ".concat(t?"true":"false")});case"image":return r.a.createElement("img",{src:t||"",alt:t||e.label||e.name});case"url":var a=(e.url||t||"").replace(":".concat(e.name),t);return r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},t);case"colorbox":return r.a.createElement("div",{className:"colorbox",style:{backgroundColor:t}});default:return t}}(a,o))})),r.a.createElement("div",{className:"actions-wrapper"},c.put&&r.a.createElement(S,{onClick:function(){var t;return null===(t=c.put)||void 0===t?void 0:t.call(c,e)},title:u},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),l&&l.length>0&&l.map((function(a,n){return r.a.createElement(S,{key:"action_".concat(t,"_").concat(n),onClick:function(){return c.action(e,a)},title:a.name},r.a.createElement("i",{className:"fa fa-".concat(a.icon||"cogs"),"aria-hidden":"true"}))})),c.delete&&r.a.createElement(S,{onClick:function(){var t;return null===(t=c.delete)||void 0===t?void 0:t.call(c,e)},title:s},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))))})))}),q=a(17),U=a(21),_=(a(53),C((function(e){var t,a,o,c,l=e.context,s=e.field,d=e.direction,m=e.showReset,p=e.onChange,f=Object(n.useState)({}),h=Object(u.a)(f,2),b=h[0],g=h[1],E=l.httpService,w=l.activePage,x=l.config,O=(null===w||void 0===w?void 0:w.requestHeaders)||{},C=(null===x||void 0===x?void 0:null===(t=x.customLabels)||void 0===t?void 0:null===(a=t.actions)||void 0===a?void 0:a.add)||"Add Item",N=(null===x||void 0===x?void 0:null===(o=x.customLabels)||void 0===o?void 0:null===(c=o.actions)||void 0===c?void 0:c.clear)||"Clear";function P(e){var t=e.value||[];return r.a.createElement("div",{className:"array-form"},t.map((function(t,a){var n=D({value:t,name:"".concat(e.name,".").concat(a)},(function(t,n){var r=(e.value||[]).map((function(e,t){return t===a?n:e}));p(e.name,r)}));return r.a.createElement("div",{className:"array-form-item",key:"array_form_".concat(a)},n,r.a.createElement("i",{title:N,onClick:function(){return function(e,t){var a=Object(q.a)(e.value||[]);a.splice(t,1),p(s.name,a)}(e,a)},"aria-label":"Remove",className:"clear-input fa fa-times"}))})),r.a.createElement(S,{className:"add-array-item",onClick:function(t){return function(e,t){e.preventDefault(),p(s.name,[].concat(Object(q.a)(t.value||[]),[""]))}(t,e)},title:C},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})))}function D(e,t){var a,n,o,c,l,u,s,d,m,p,f,h,w,C,N,S,D,q,_=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{value:e.value,placeholder:e.placeholder||a,disabled:e.readonly,required:e.required,onChange:function(a){return t(e.name,a.target.value)}}};switch(e.type){case"boolean":return r.a.createElement("input",Object.assign({type:"checkbox"},_(),{checked:e.value,onChange:function(a){return t(e.name,a.target.checked,!0)}}));case"select":var I,L=e.optionSource;if(L&&!b[e.name])return function(e,t){var a,n,r,o,c,l,u;i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,a=t.url,n=t.dataPath,r=t.actualMethod,o=t.requestHeaders,a){s.next=4;break}throw new Error('URL option source (for field "'.concat(e,'") is empty.'));case 4:return s.next=6,i.a.awrap(E.fetch({method:r||"get",origUrl:a,queryParams:[],headers:Object.assign({},O,o||{})}));case 6:if(c=s.sent,(l=y.extractDataByDataPath(c,n))&&l.length){s.next=10;break}throw new Error('Option source data is empty (for field "'.concat(e,'")'));case 10:u=l.map((function(e,a){var n=t.valuePath,r=t.displayPath;return"string"===typeof e?e:{display:r&&e[r]?e[r]:"Option ".concat(a+1),value:n&&e[n]?e[n]:"".concat(a)}})),g(Object(k.a)({},b,Object(U.a)({},e,u))),s.next=17;break;case 14:s.prev=14,s.t0=s.catch(0),v.b.error(s.t0.message);case 17:case"end":return s.stop()}}),null,null,[[0,14]])}(e.name,L),r.a.createElement("select",_(),r.a.createElement("option",null,"-- Loading Options... --"));var R=null===(I=e.optionSource)||void 0===I?void 0:I.sortBy,A=b[e.name]||e.options||[],M=Object(j.a)(A,"string"===typeof R?[R]:R||[]);return r.a.createElement("select",_(),r.a.createElement("option",null,"-- Select --"),M.map((function(e,t){var a="option_".concat(t,"_");return"object"!==typeof e?r.a.createElement("option",{key:"".concat(a,"_").concat(e),value:e},e):r.a.createElement("option",{key:"".concat(a,"_").concat(e.value),value:e.value},e.display||e.value)})));case"object":return r.a.createElement("textarea",_((null===x||void 0===x?void 0:null===(a=x.customLabels)||void 0===a?void 0:null===(n=a.placeholders)||void 0===n?void 0:n.object)||"Enter JSON..."));case"array":var T,H,J=e.arrayType;return e.value&&J&&"object"!==J?P(e):r.a.createElement("textarea",_((null===x||void 0===x?void 0:null===(T=x.customLabels)||void 0===T?void 0:null===(H=T.placeholders)||void 0===H?void 0:H.array)||"Enter JSON array..."));case"long-text":return r.a.createElement("textarea",_((null===x||void 0===x?void 0:null===(o=x.customLabels)||void 0===o?void 0:null===(c=o.placeholders)||void 0===c?void 0:c.text)||"Enter text..."));case"number":case"integer":return r.a.createElement("input",Object.assign({type:"number"},_((null===x||void 0===x?void 0:null===(l=x.customLabels)||void 0===l?void 0:null===(u=l.placeholders)||void 0===u?void 0:u.number)||"0"),{onChange:function(a){return t(e.name,a.target.valueAsNumber)}}));case"color":return r.a.createElement("input",Object.assign({type:"color"},_((null===x||void 0===x?void 0:null===(s=x.customLabels)||void 0===s?void 0:null===(d=s.placeholders)||void 0===d?void 0:d.color)||"Enter color...")));case"email":return r.a.createElement("input",Object.assign({type:"email"},_((null===x||void 0===x?void 0:null===(m=x.customLabels)||void 0===m?void 0:null===(p=m.placeholders)||void 0===p?void 0:p.email)||"Enter email...")));case"password":return r.a.createElement("input",Object.assign({type:"password"},_((null===x||void 0===x?void 0:null===(f=x.customLabels)||void 0===f?void 0:null===(h=f.placeholders)||void 0===h?void 0:h.password)||"Enter password...")));case"hidden":return r.a.createElement("input",{type:"hidden",value:e.value});case"file":return r.a.createElement("input",{type:"file",accept:e.accept||"*",placeholder:e.placeholder||(null===x||void 0===x?void 0:null===(w=x.customLabels)||void 0===w?void 0:null===(C=w.placeholders)||void 0===C?void 0:C.file)||"Select file...",name:e.name||"file",disabled:e.readonly,required:e.required});case"note":return r.a.createElement("p",{className:"note"},e.value);case"date":return r.a.createElement("input",Object.assign({type:"date"},_((null===x||void 0===x?void 0:null===(N=x.customLabels)||void 0===N?void 0:null===(S=N.placeholders)||void 0===S?void 0:S.date)||"Enter date...")));case"text":default:return r.a.createElement("input",Object.assign({type:"text"},_((null===x||void 0===x?void 0:null===(D=x.customLabels)||void 0===D?void 0:null===(q=D.placeholders)||void 0===q?void 0:q.text)||"Enter text...")))}}return r.a.createElement("div",{className:"form-row ".concat(d||"row")},"hidden"!==s.type&&r.a.createElement("label",null,s.label||s.originalName,s.required?" *":""),D(s,p),m&&!s.readonly&&s.value&&s.value.length>0&&r.a.createElement("i",{title:N,onClick:function(){return p(s.name,"",!0)},"aria-label":"Clear",className:"clear-input fa fa-times"}))}))),I=(a(56),function(e){var t=e.initialParams,a=e.submitCallback,o=Object(n.useState)(t),c=Object(u.a)(o,2),l=c[0],i=c[1];function s(e){e&&e.preventDefault(),a(l)}function d(e,t,a){var n=Object(q.a)(l).map((function(a){return a.name===e&&(a.value=t),a}));i(n),a&&s()}return Object(n.useEffect)((function(){i(t)}),[t]),l.length?r.a.createElement("section",{className:"query-params-form"},r.a.createElement("h5",null,"Query Params:"),r.a.createElement("form",{onSubmit:s},l.map((function(e,t){return r.a.createElement(_,{key:"query_param_".concat(t),field:e,onChange:d,showReset:!e.type||"text"===e.type})})),r.a.createElement(S,{type:"submit",onClick:s},"Submit"))):r.a.createElement(r.a.Fragment,null)}),L=(a(57),document.getElementById("popup-portal"));L||((L=document.createElement("div")).setAttribute("id","popup-portal"),document.body.append(L));var R=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).el=void 0,a.componentDidMount=function(){L.appendChild(a.el)},a.componentWillUnmount=function(){L.removeChild(a.el)},a.el=document.createElement("div"),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createPortal(this.props.children,this.el)}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r))))._handleKeyDown=function(e){var t=a.props,n=t.show,r=t.closeCallback;n&&27===e.keyCode&&r(e)},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t,a=this,n=Object.assign({},{display:this.props.show?"block":"none"},this.props.style||{}),o=(null===(e=this.props.customLabels)||void 0===e?void 0:null===(t=e.actions)||void 0===t?void 0:t.close)||"Close";return r.a.createElement(R,null,this.props.show?r.a.createElement("div",{className:"popup ".concat(this.props.className||""),style:n},r.a.createElement("div",{className:"overlay",onClick:function(e){return a.props.closeCallback(e)}}),r.a.createElement("div",{className:"popup-content",ref:this.props.refCallback},this.props.children,r.a.createElement("button",{title:o,className:"close-popup",onClick:function(e){return a.props.closeCallback(e)}},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))):null)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleKeyDown.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._handleKeyDown.bind(this))}}]),t}(n.Component),M=new(function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"isMultipartForm",value:function(e){for(var t in e){if("file"===e[t].type)return!0}return!1}}]),e}()),T=(a(58),a(27)),H=a(27).unflatten,J=C((function(e){var t=e.context,a=e.title,o=e.fields,c=e.rawData,l=e.getSingleConfig,s=e.methodConfig,d=e.submitCallback,m=e.closeCallback,p=JSON.parse(JSON.stringify(o)),f=t.httpService,h=t.activePage,b=t.config,g=Object(n.useState)(!0),E=Object(u.a)(g,2),w=E[0],k=E[1],x=Object(n.useState)([]),j=Object(u.a)(x,2),O=j[0],C=j[1],P=Object(n.useState)(null),D=Object(u.a)(P,2),q=D[0],U=D[1],I=(null===h||void 0===h?void 0:h.requestHeaders)||{};function L(e){var t,a,n,r,o;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),t=s.includeOriginalFields?Object.assign({},q):{},a=new FormData,n=M.isMultipartForm(O),r=null,O.forEach((function(o){if("file"!==o.type){if(t[o.name]=o.value,n&&a.append(o.name,o.value),o.required&&"boolean"!==o.type&&!o.value&&(r="Please fill up all required fields."),y.checkIfFieldIsObject(o)&&o.value)try{t[o.name]=JSON.parse(o.value)}catch(e){r='Invalid JSON for field "'.concat(o.name,'".')}"boolean"===o.type&&(t[o.name]=o.value||!1),"encode"===o.type&&(t[o.name]=encodeURIComponent(o.value))}else{var c=document.querySelector('input[name="'.concat(o.name||"file",'"]'));if(c.files.length>0){var l=c.files[0];a.append(o.name||"file",l,l.name)}}})),!r){c.next=9;break}return v.b.error(r),c.abrupt("return");case 9:return k(!0),c.prev=10,o=n?a:H(t),c.next=14,i.a.awrap(d(o,n));case 14:v.b.success("Great Success!"),m(!0),c.next=21;break;case 18:c.prev=18,c.t0=c.catch(10),v.b.error(c.t0.message);case 21:k(!1);case 22:case"end":return c.stop()}}),null,null,[[10,18]])}function R(e,t){var a=JSON.parse(JSON.stringify(O));a=a.map((function(a){return a.name===e&&(a.value=t),a})),C(a)}return Object(n.useEffect)((function(){!function(){var e,t,a,n,r,o,u,s,d;i.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(e=c||{},!l||!l.url){m.next=15;break}return m.prev=2,t=l.url,a=l.requestHeaders,n=l.actualMethod,r=l.dataPath,o=l.queryParams,m.next=6,i.a.awrap(f.fetch({method:n||"get",origUrl:t,queryParams:o,headers:Object.assign({},I,a||{}),rawData:c}));case 6:u=m.sent,(s=y.extractDataByDataPath(u,r))&&"object"===typeof s&&(e=s),m.next=15;break;case 11:m.prev=11,m.t0=m.catch(2),console.error("Could not load single item's data.",m.t0),v.b.error("Could not load single item's data.");case 15:U(e),d=T(e||{}),C(p.map((function(t){var a=t.name;return t.originalName=t.name,t.dataPath&&(a="".concat(t.dataPath,".").concat(t.name)),t.name=a,y.checkIfFieldIsObject(t)?((e[a]||t.value)&&(t.value=JSON.stringify(e[a]||t.value,null,"  ")||""),t):"array"===t.type?(t.value=e[a]||t.value||[],t):(d[a]?t.value=d[a]:t.value=t.value||"",t)}))),k(!1);case 19:case"end":return m.stop()}}),null,null,[[2,11]])}()}),[]),r.a.createElement(A,{show:!0,className:"form-popup",closeCallback:function(){return m(!1)},customLabels:null===b||void 0===b?void 0:b.customLabels},r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,a),r.a.createElement("section",null,w?r.a.createElement(N,null):r.a.createElement("form",{onSubmit:L},O.map((function(e,t){return r.a.createElement(_,{key:"field_".concat(t),field:e,onChange:R,showReset:!e.type||"text"===e.type})})),r.a.createElement("div",{className:"buttons-wrapper center"},r.a.createElement(S,{type:"submit",onClick:L,color:"green"},"Submit"))))))})),B=(a(60),function(e){var t=e.onChange;return r.a.createElement("section",{className:"filter-wrapper"},r.a.createElement("h5",null,"Filter:"),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Search...",onChange:function(e){return t(e.target.value.toLowerCase())}})))}),F=(a(61),C((function(e){var t,a=e.context,o=Object(d.h)().page,c=Object(d.g)(),l=c.push,s=c.location,m=a.activePage,p=a.error,f=a.setError,h=a.httpService,b=a.config,g=(null===m||void 0===m?void 0:m.requestHeaders)||{},E=null===m||void 0===m?void 0:m.methods,w=(null===m||void 0===m?void 0:m.customActions)||[],O=null===E||void 0===E?void 0:E.getAll,C=null===E||void 0===E?void 0:E.getSingle,q=null===E||void 0===E?void 0:E.post,U=null===E||void 0===E?void 0:E.put,_=null===E||void 0===E?void 0:E.delete,L=null===b||void 0===b?void 0:b.customLabels,R=Object(n.useState)(!1),A=Object(u.a)(R,2),M=A[0],T=A[1],H=Object(n.useState)(null),F=Object(u.a)(H,2),z=F[0],W=F[1],G=Object(n.useState)((null===O||void 0===O?void 0:O.queryParams)||[]),K=Object(u.a)(G,2),V=K[0],Y=K[1],Q=Object(n.useState)([]),$=Object(u.a)(Q,2),X=$[0],Z=$[1],ee=Object(n.useState)(""),te=Object(u.a)(ee,2),ae=te[0],ne=te[1];function re(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:W({rawData:e,type:"update",title:"Update Item",config:U,getSingleConfig:C,submitCallback:function(t,a){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(se(t,e,a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))}});case 2:case"end":return t.stop()}}))}function oe(e,t){var a={rawData:e,type:"action",title:t.name||"Custom Action",config:t,submitCallback:function(a,n){return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(ce(a,e,t,n));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}))}};W(a)}function ce(e,t,a,n){var r,o,c;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return r=a.url,o=a.requestHeaders,c=a.actualMethod,l.next=3,i.a.awrap(h.fetch({method:c||"put",origUrl:r,rawData:t,body:n?e:JSON.stringify(e),headers:Object(k.a)({},g,{},o||{},{},n?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}}))}function le(){var e=x.parse(s.search);return((null===O||void 0===O?void 0:O.queryParams)||[]).map((function(t){return"undefined"!==typeof e[t.name]?t.value="boolean"===t.type?"true"===e[t.name]:decodeURIComponent(e[t.name]):t.value=t.value||"",t}))}function ie(){var e,t,a,n,r,o,c,l,u;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(T(!0),f(null),s.prev=2,O){s.next=5;break}throw new Error("Get all method is not defined.");case 5:return e=O.url,t=O.requestHeaders,a=O.actualMethod,n=O.dataPath,r=O.sortBy,o=O.dataTransform,s.next=8,i.a.awrap(h.fetch({method:a||"get",origUrl:e,queryParams:le(),headers:Object.assign({},g,t||{})}));case 8:if(c=s.sent,l=y.extractDataByDataPath(c,n)){s.next=12;break}throw new Error("Could not extract data from response.");case 12:if(Array.isArray(l)){s.next=14;break}throw new Error("Extracted data is invalid.");case 14:if("function"!==typeof o){s.next=18;break}return s.next=17,i.a.awrap(o(l));case 17:l=s.sent;case 18:u=Object(j.a)(l,"string"===typeof r?[r]:r||[]),Z(u),s.next=25;break;case 22:s.prev=22,s.t0=s.catch(2),f(s.t0.message);case 25:T(!1);case 26:case"end":return s.stop()}}),null,null,[[2,22]])}function ue(e,t){var a,n,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(q){o.next=2;break}throw new Error("Post method is not defined.");case 2:return a=q.url,n=q.requestHeaders,r=q.actualMethod,o.next=5,i.a.awrap(h.fetch({method:r||"post",origUrl:a,body:t?e:JSON.stringify(e),headers:Object(k.a)({},g,{},n||{},{},t?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}))}function se(e,t,a){var n,r,o;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(U){c.next=2;break}throw new Error("Put method is not defined.");case 2:return n=U.url,r=U.requestHeaders,o=U.actualMethod,c.next=5,i.a.awrap(h.fetch({method:o||"put",origUrl:n,rawData:t,body:a?e:JSON.stringify(e),headers:Object(k.a)({},g,{},r||{},{},a?{}:{"content-type":"application/json"}),responseType:"boolean"}));case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}}))}function de(e){var t,a,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(window.confirm("Are you sure you want to delete this item?")){r.next=3;break}return r.abrupt("return");case 3:if(r.prev=3,_){r.next=6;break}throw new Error("Delete method is not defined.");case 6:return t=_.url,a=_.requestHeaders,n=_.actualMethod,r.next=9,i.a.awrap(h.fetch({method:n||"delete",origUrl:t,rawData:e,headers:Object.assign({},g,a||{}),responseType:"boolean"}));case 9:r.sent&&ie(),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),v.b.error(r.t0.message);case 16:case"end":return r.stop()}}),null,null,[[3,13]])}function ve(e){if(Y(e),!M){var t=V.map((function(e,t){return"".concat(0===t?"?":"").concat(e.name,"=").concat(encodeURIComponent(e.value||""))})).join("&");l(t)}}return Object(n.useEffect)((function(){var e,t,n=(null===a||void 0===a?void 0:null===(e=a.config)||void 0===e?void 0:null===(t=e.pages)||void 0===t?void 0:t.filter((function(e,t){return e.id===o||t+1===parseInt(o||"")}))[0])||null;a.setActivePage(n)}),[o]),Object(n.useEffect)((function(){Y(le())}),[m]),Object(n.useEffect)((function(){ie()}),[V]),r.a.createElement("div",{className:"app-page"},r.a.createElement("header",{className:"app-page-header"},r.a.createElement("hgroup",null,r.a.createElement("h2",null,null===m||void 0===m?void 0:m.name),(null===m||void 0===m?void 0:m.description)&&r.a.createElement("h4",null,null===m||void 0===m?void 0:m.description)),q&&r.a.createElement(S,{className:"add-item",color:"green",onClick:function(){return W({type:"add",title:"Add Item",config:q,submitCallback:ue})}},"+ Add Item")),r.a.createElement("main",{className:"app-page-content"},function(){var e,t=((null===O||void 0===O?void 0:O.fields)||(null===O||void 0===O?void 0:null===(e=O.display)||void 0===e?void 0:e.fields)||[]).filter((function(e){return e.filterable})).map((function(e){return e.name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{initialParams:V,submitCallback:ve}),t.length>0&&r.a.createElement(B,{onChange:ne}),p?r.a.createElement("div",{className:"app-error"},p):function(){var e;if(M)return r.a.createElement(N,null);var t=(null===O||void 0===O?void 0:O.fields)||(null===O||void 0===O?void 0:null===(e=O.display)||void 0===e?void 0:e.fields)||[],a=t.filter((function(e){return e.filterable})).map((function(e){return e.name})),n=X;if(ae&&a.length&&(n=X.filter((function(e){var t=!1;return a.forEach((function(a){var n=e[a];"string"===typeof n&&n.toLowerCase().indexOf(ae)>=0&&(t=!0)})),t}))),!n.length)return r.a.createElement("div",{className:"app-error"},"Nothing to see here. Result is empty.");var o={delete:_?de:null,put:U?re:null,action:w.length?oe:function(){}};return"cards"===(null===O||void 0===O?void 0:O.display.type)?r.a.createElement(D,{callbacks:o,fields:t,items:n,customActions:w,customLabels:L}):r.a.createElement(P,{callbacks:o,fields:t,items:n,customActions:w,customLabels:L})}())}()),z&&r.a.createElement(J,{title:z.title,closeCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];W(null),!0===e&&ie()},submitCallback:z.submitCallback,fields:(null===(t=z.config)||void 0===t?void 0:t.fields)||[],rawData:z.rawData,getSingleConfig:z.getSingleConfig,methodConfig:z.config}))}))),z=(a(65),C((function(e){var t=e.context.config,a=Object(n.useState)(!1),o=Object(u.a)(a,2),c=o[0],l=o[1];return r.a.createElement("nav",{className:"app-nav"},r.a.createElement(S,{className:"app-nav-opener",onClick:function(){return l(!c)}},c?r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true"})),r.a.createElement("div",{className:"app-nav-wrapper ".concat(c?"opened":"")},r.a.createElement("div",{className:"app-nav-links"},((null===t||void 0===t?void 0:t.pages)||[]).map((function(e,t){return r.a.createElement(s.b,{to:"/".concat(e.id||t+1),activeClassName:"active",key:"page_".concat(t),onClick:function(){return l(!1)}},e.name)})))))}))),W=function(e){var t=e.styles.vars||{},a=[];for(var n in t)a.push("--".concat(n,": ").concat(t[n]));return r.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n      :root {\n        ".concat(a.join(";"),"\n      }\n    ")}})},G=(a(66),a(67),new g),K="RESTool App";function V(e){var t=document.createElement("link"),a=document.getElementById("favicon");t.id="favicon",t.rel="shortcut icon",t.href=e,a&&document.head.removeChild(a),document.head.appendChild(t)}var Y=function(){var e,t,a,o=Object(n.useState)(!0),c=Object(u.a)(o,2),l=c[0],m=c[1],p=Object(n.useState)(null),f=Object(u.a)(p,2),h=f[0],b=f[1],y=Object(n.useState)((null===h||void 0===h?void 0:null===(e=h.pages)||void 0===e?void 0:e[0])||null),g=Object(u.a)(y,2),E=g[0],k=g[1],x=Object(n.useState)(null),j=Object(u.a)(x,2),C=j[0],N=j[1];Object(n.useEffect)((function(){!function e(t){var a,n,r,o,c;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,o=null===(a=window.RESTool)||void 0===a?void 0:a.config,t||!o){l.next=6;break}c=Object.assign({},o,{}),l.next=16;break;case 6:if(!t){l.next=12;break}return l.next=9,i.a.awrap(w.getRemoteConfig(t));case 9:l.t0=l.sent,l.next=15;break;case 12:return l.next=14,i.a.awrap(w.loadDefaultConfig());case 14:l.t0=l.sent;case 15:c=l.t0;case 16:if(G.baseUrl=c.baseUrl||"",G.errorMessageDataPath=c.errorMessageDataPath||"",G.unauthorizedRedirectUrl=c.unauthorizedRedirectUrl||"",G.requestHeaders=c.requestHeaders||{},document.title=c.name||K,(null===(n=c)||void 0===n?void 0:n.favicon)&&V(c.favicon),!(null===(r=c)||void 0===r?void 0:r.remoteUrl)){l.next=26;break}return l.next=25,i.a.awrap(e(c.remoteUrl));case 25:return l.abrupt("return",l.sent);case 26:b(c),l.next=32;break;case 29:l.prev=29,l.t1=l.catch(0),console.error("Could not load config file",l.t1);case 32:m(!1);case 33:case"end":return l.stop()}}),null,null,[[0,29]])}()}),[]),Object(n.useEffect)((function(){var e=w.validateConfig(h),t=e.isValid,a=e.errorMessage;t||N(a)}),[h]);var S=(null===h||void 0===h?void 0:h.name)||K;return r.a.createElement("div",{className:"restool-app"},h?r.a.createElement(O.Provider,{value:{config:h,activePage:E,setActivePage:k,error:C,setError:N,httpService:G}},h.customStyles&&r.a.createElement(W,{styles:h.customStyles}),r.a.createElement(s.a,null,r.a.createElement("aside",null,r.a.createElement("h1",{title:S,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=window.scrollY/2,a=0,n=performance.now();window.requestAnimationFrame((function r(o){(a+=Math.PI/(e/(o-n)))>=Math.PI&&window.scrollTo(0,0),0!==window.scrollY&&(window.scrollTo(0,Math.round(t+t*Math.cos(a))),n=o,window.requestAnimationFrame(r))}))}()}},S),r.a.createElement(z,null)),h&&r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/:page",component:F}),r.a.createElement(d.a,{path:"/",to:"/".concat((null===h||void 0===h?void 0:null===(t=h.pages)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.id)||"1")})),r.a.createElement(v.a,{position:v.b.POSITION.TOP_CENTER,autoClose:4e3,draggable:!1}))):r.a.createElement("div",{className:"app-error"},l?"Loading Configuration...":"Could not find config file."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(68);c.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.ab0790d0.chunk.js.map